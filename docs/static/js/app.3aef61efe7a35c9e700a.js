webpackJsonp([1],{"/MKV":function(t,e){},"KjZ+":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a=s("Gu7T"),i=s.n(a),r=s("mtWM"),c=s.n(r),o={data:function(){return{}},mounted:function(){this.$refs.dots.querySelectorAll(".dot").forEach(function(t,e){var s=t;function n(){s.style.transform="none"}setTimeout(function(){s.style.transform="translateY(-100%)",setTimeout(n,400)},500*e)})}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading-screen"},[s("div",{staticClass:"text"},[s("figure",{ref:"dots",attrs:{id:"jumping-dots"}},t._l([1,2,3,4],function(e){return s("div",{key:e,staticClass:"dot"},[t._v(".")])}))])])},staticRenderFns:[]};var u=s("VU/8")(o,d,!1,function(t){s("r31n")},"data-v-4b14104f",null).exports,l=s("RYeZ"),f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"root"},[s("figure",{staticClass:"app-card"},[s("div",{staticClass:"card-image"},[s("img",{attrs:{src:t.source,alt:t.card.name}})]),t._v(" "),s("figcaption",[s("ul",{staticClass:"card-info"},[s("li",[s("h5",[t._v(t._s(t.card.name))])]),t._v(" "),s("li",[t._v("Cost: "+t._s(t.card.elixirCost)),s("img",{staticClass:"icon",attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/4/43/Elixir.png",alt:"Elixir"}})]),t._v(" "),s("li",[s("span",{staticClass:"card-type"},[t._v(t._s(t.card.type))]),t._v("\n          Â·\n          "),s("span",{class:t.card.rarity},[t._v(t._s(t.card.rarity))])]),t._v(" "),s("li",{staticClass:"description"},[t._v(t._s(t.card.description))])])])])])},staticRenderFns:[]};var h={props:["cards"],components:{Card:s("VU/8")({props:["card"],data:function(){return{}},computed:{source:function(){return"http://www.clashapi.xyz/images/cards/"+this.card.idName+".png"}},methods:{}},f,!1,function(t){s("/MKV")},"data-v-6506dcfa",null).exports},data:function(){return{shuffleCards:[],shuffleCurrent:[0,7,1,5,3,6,2,4],suggestedDeck:[this.cards[0],this.cards[1],this.cards[2],this.cards[3],this.cards[4],this.cards[5],this.cards[6],this.cards[7]],shuffling:!1}},computed:{deckCode:function(){return l.encode(this.suggestedDeck.map(function(t){return t.idName}).join(","))}},mounted:function(){var t=this;this.randomizeShuffleImages(),this.loadDeckCode(location.hash.substring(1))||this.shuffle(),addEventListener("hashchange",function(e){t.loadDeckCode(e.newURL.substring(e.newURL.indexOf("#")+1))})},methods:{loadDeckCode:function(t){var e=this,s=l.decode(t).split(",").map(function(t){return e.cards.find(function(e){return e.idName===t})});return!s.includes(void 0)&&8===s.length&&(this.animateShuffling(),this.setDeck(s),!0)},shuffle:function(){this.animateShuffling(),this.getNewDeck()},getNewDeck:function(){this.setDeck(this.getRandomCards(this.shuffleCurrent.length))},setDeck:function(t){var e;this.suggestedDeck=[],(e=this.suggestedDeck).push.apply(e,i()(t)),this.setHash()},setHash:function(){location.hash=this.deckCode},animateShuffling:function(){var t=this;!function e(s,n){n>=30?t.shuffling=!1:(t.shuffling=!0,t.shuffleCurrent=t.shuffleCurrent.map(function(e){return e<t.shuffleCards.length-1?e+1:0}),setTimeout(function(){e(s+5,n+1)},s))}(30,0)},getRandomCards:function(t){for(var e=this,s=function(){return Math.round(Math.random()*(e.cards.length-1))},n=[],a=0;a<t;a+=1){for(var i=s();n.includes(i);)i=s();n.push(i)}return n.map(function(t){return e.cards[t]})},randomizeShuffleImages:function(){var t;this.shuffleCards=[];var e=this.getRandomCards(10);(t=this.shuffleCards).push.apply(t,i()(e))}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"app-deck container-fluid row"},[s("div",{staticClass:"col-sm-12 col-lg-8 row"},t._l(t.shuffleCurrent,function(e,n){return s("div",{key:n,staticClass:"col-sm-6 col-md-3",class:"slot"+n},[t._l(t.shuffleCards,function(n,a){return s("Card",{key:a,staticClass:"card",class:{selected:a===e&&t.shuffling},attrs:{card:n}})}),t._v(" "),t.suggestedDeck?s("Card",{staticClass:"card",class:{selected:!t.shuffling},attrs:{card:t.suggestedDeck[n]}}):t._e()],2)})),t._v(" "),s("div",{staticClass:"col-sm-12 col-lg-4"},[s("section",{staticClass:"mt-3",attrs:{id:"shuffle"}},[s("h2",[t._v("Shuffle!")]),t._v(" "),s("button",{staticClass:"btn btn-success",on:{click:function(e){t.shuffle()}}},[t._v("Do it!")])]),t._v(" "),s("section",{staticClass:"load-from-base64 mt-3",attrs:{id:"load-deck"}},[s("h2",[t._v("Load deck code")]),t._v(" "),s("p",[t._v("You can copy the deck code below and paste it again\n      when you want to see the current deck. This way you can even share it with your friends!")]),t._v(" "),s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deckCode,expression:"deckCode"}],staticClass:"form-control",domProps:{value:t.deckCode},on:{click:function(t){t.target.select()},input:[function(e){e.target.composing||(t.deckCode=e.target.value)},function(e){t.loadDeckCode(e.target.value)}]}})])])])])},staticRenderFns:[]};var m={name:"App",components:{LoadingScreen:u,Deck:s("VU/8")(h,p,!1,function(t){s("ZISK")},"data-v-74ecd142",null).exports},data:function(){return{loaded:!1,cards:[]}},mounted:function(){var t=this,e=!1;setTimeout(function(){e?t.loaded=!0:e=!0},3e3),c.a.get("//www.clashapi.xyz/api/cards").then(function(s){var n;e?t.loaded=!0:e=!0,(n=t.cards).push.apply(n,i()(s.data))})}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("transition",{attrs:{name:"fade"}},[this.loaded?this._e():e("LoadingScreen",{ref:"loading",staticClass:"loading"})],1),this._v(" "),e("transition",{attrs:{name:"fade"}},[this.loaded?e("Deck",{attrs:{cards:this.cards}}):this._e()],1)],1)},staticRenderFns:[]};var g=s("VU/8")(m,v,!1,function(t){s("KjZ+")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:g},template:"<App/>"})},ZISK:function(t,e){},r31n:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3aef61efe7a35c9e700a.js.map